{"version":3,"file":"js/Login.e1cb741c.js","mappings":"sPACOA,MAAM,kBAAkBC,GAAG,Y,GACzBA,GAAG,S,UACNC,EAAAA,EAAAA,GAA8C,OAAzCC,IAAAC,EAA+BH,GAAG,Q,qBACvCC,EAAAA,EAAAA,GAAuC,MAAnCF,MAAM,WAAU,kBAAc,K,UAEhCE,EAAAA,EAAAA,GAAqE,SAA9DG,IAAI,WAAWL,MAAM,cAAa,wBAAoB,K,UAG7DE,EAAAA,EAAAA,GAA6D,SAAtDG,IAAI,WAAWL,MAAM,cAAa,gBAAY,K,GAChDA,MAAM,oB,UAQXE,EAAAA,EAAAA,GAAoE,UAA5DI,KAAK,SAASN,MAAM,kBAAiB,kBAAc,K,0CAjBjEO,EAAAA,EAAAA,IAoBM,MApBNC,EAoBM,EAnBJN,EAAAA,EAAAA,GAkBM,MAlBNO,EAkBM,CAjBJC,EACAC,GACAT,EAAAA,EAAAA,GAcO,QAdAU,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAC,IAAUC,EAAAC,OAAAD,EAAAC,SAAAF,IAAK,e,CAC1BG,GAAqE,SACrEhB,EAAAA,EAAAA,GAA8G,SAAvGD,GAAG,WAAWkB,YAAY,mBAAmBnB,MAAM,eAAeM,KAAK,O,qCAAgBc,EAAAC,MAAKC,GAAEC,SAAA,I,iBAAPH,EAAAC,SAE9FG,GACAtB,EAAAA,EAAAA,GAMM,MANNuB,EAMM,WALJvB,EAAAA,EAAAA,GAA0H,SAAnHD,GAAG,WAAWkB,YAAY,wBAAwBnB,MAAM,eAAeM,KAAK,W,qCAAoBc,EAAAM,SAAQJ,GAAEC,SAAA,I,iBAAVH,EAAAM,cAOzGC,GAAoE,O,sBAS5E,GACEC,IAAAA,GACE,MAAO,CACLP,MAAO,GACPK,SAAU,GAEd,EACAG,QAAS,CACPZ,KAAAA,GACEa,EAAAA,EAAMC,KAAK,qDAAsD,CAC/DV,MAAOW,KAAKX,MACZK,SAAUM,KAAKN,WAEdO,MAAKC,IACJ,MAAMC,EAAQD,EAASN,KAAKQ,QAAQD,MAC9BE,EAAQH,EAASN,KAAKQ,QAAQC,MAC9BC,EAASJ,EAASN,KAAKQ,QAAQE,OACrCC,QAAQC,IAAI,kDAAoDF,GAChEC,QAAQC,IAAI,iDAAmDL,GAC/DM,aAAaC,QAAQ,QAASP,GAC9BM,aAAaC,QAAQ,QAASC,KAAKC,UAAUP,IAC7CI,aAAaC,QAAQ,QAASV,KAAKX,OACnCoB,aAAaC,QAAQ,SAAUJ,GAC3BA,EACFN,KAAKa,QAAQC,KAAK,KAElBC,MAAM,6BACR,IAEDC,OAAMC,IACLV,QAAQU,MAAMA,GACdF,MAAM,2BAA2B,GAEvC,I,QCrDJ,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://cloud/./src/pages/Login.vue","webpack://cloud/./src/pages/Login.vue?619c"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid\" id=\"fondoPag\">\r\n    <div id=\"login\">\r\n      <img src=\"@/assets/img/logofin.png\" id=\"logo\">\r\n      <h2 class=\"fw-bold\">Iniciar sesión</h2>\r\n      <form @submit.prevent=\"login\">\r\n        <label for=\"username\" class=\"form-label\"> Nombre de usuario: </label>\r\n        <input id=\"username\" placeholder=\"Ingrese su email\" class=\"form-control\" type=\"text\" v-model=\"email\" required>\r\n\r\n        <label for=\"password\" class=\"form-label\"> Contraseña:</label>\r\n        <div class=\"input-group mb-3\">\r\n          <input id=\"password\" placeholder=\"Ingrese la contraseña\" class=\"form-control\" type=\"password\" v-model=\"password\" required>\r\n          <!--        <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"btnMostrar\">\r\n          <i class=\"bi bi-eye-fill\"></i>\r\n        </button>-->\r\n\r\n        </div>\r\n\r\n        <button type=\"submit\" class=\"btn btn-danger\">Iniciar sesión</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n    }\r\n  },\r\n  methods: {\r\n    login() {\r\n      axios.post('https://aname-a05m.onrender.com/API/Aname/V1/login', {\r\n        email: this.email,\r\n        password: this.password\r\n      })\r\n        .then(response => {\r\n          const token = response.data.Usuario.token\r\n          const roles = response.data.Usuario.roles\r\n          const estado = response.data.Usuario.estado // Agregamos el estado\r\n          console.log(\"*******************ESTADO**********************\" + estado)\r\n          console.log(\"**********************TOKEN*******************\" + token)\r\n          localStorage.setItem('token', token)\r\n          localStorage.setItem('roles', JSON.stringify(roles))\r\n          localStorage.setItem('email', this.email)\r\n          localStorage.setItem('estado', estado) // Guardamos el estado\r\n          if (estado) { // Verificamos si el estado es true\r\n            this.$router.push('/') // redirigir a la página principal\r\n          } else {\r\n            alert('Tu cuenta está desactivada') // Mostramos un mensaje de error si el estado es false\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error(error)\r\n          alert('Credenciales incorrectas')\r\n        })\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n/*\r\n  created() {\r\n    this.showNavbar = false\r\n  },\r\n  methods: {\r\n    login() {\r\n      axios.post('http://localhost:8081/API/MarkWeb/V1/usuario/login', {\r\n        email: this.email,\r\n        password: this.password\r\n      })\r\n          .then(response => {\r\n            const token = response.data.token\r\n            const roles = response.data.roles\r\n            const estado = response.data.estado // Agregamos el estado\r\n            localStorage.setItem('token', token)\r\n            localStorage.setItem('roles', JSON.stringify(roles))\r\n            localStorage.setItem('username', this.email)\r\n            localStorage.setItem('estado', estado) // Guardamos el estado\r\n            if (estado) { // Verificamos si el estado es true\r\n              this.$router.push('/') // redirigir a la página principal\r\n            } else {\r\n              alert('Tu cuenta está desactivada') // Mostramos un mensaje de error si el estado es false\r\n            }\r\n          })\r\n          .catch(error => {\r\n            console.error(error)\r\n            alert('Credenciales incorrectas')\r\n          })\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    var btnMostrar = document.getElementById(\"btnMostrar\");\r\n    var password = document.getElementById(\"password\");\r\n\r\n    btnMostrar.addEventListener(\"click\", function () {\r\n      if (password.type === \"password\") {\r\n        password.type = \"text\";\r\n        btnMostrar.innerHTML = '<i class=\"bi bi-eye-slash-fill\"></i>';\r\n      } else {\r\n        password.type = \"password\";\r\n        btnMostrar.innerHTML = '<i class=\"bi bi-eye-fill\"></i>';\r\n      }\r\n    });\r\n  }\r\n}*/\r\n</script>\r\n\r\n<style scoped>\r\n#fondoPag {\r\n  background-color: #fff2f1;\r\n  height: 100vh;\r\n}\r\n\r\n#logo {\r\n  height: 70px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n#login {\r\n  width: 500px;\r\n  margin: auto;\r\n  background-color:white;\r\n  /* margin: 70px auto; */\r\n  /* background-color: #efca08; */\r\n  border: 7px solid #003153;\r\n  border-radius: 12px;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  padding-bottom: 30px;\r\n  padding-top: 30px;\r\n}\r\n\r\ninput {\r\n  margin-bottom: 10px;\r\n  height: 40px;\r\n  border: 2px solid #efca08;\r\n}\r\n\r\nh2 {\r\n  /* font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; */\r\n  margin-bottom: 20px;\r\n  text-align: center;\r\n  color: #003153;\r\n}\r\n\r\n/* button {\r\n  align-content: center;\r\n  text-align: center;\r\n  margin: 10px 35%;\r\n  //padding: auto;\r\n} */\r\n\r\n/* #password {\r\n  width: 285px;\r\n} */\r\n\r\n/* #btnMostrar {\r\n  margin-top: 0px;\r\n  height: 40px;\r\n  margin-right: 0px;\r\n} */\r\n\r\n/* .mb-3 {\r\n  width: 500px;\r\n} */\r\n\r\n</style>\r\n","import { render } from \"./Login.vue?vue&type=template&id=41854c87&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=41854c87&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41854c87\"]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","src","_imports_0","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_5","placeholder","$data","email","$event","required","_hoisted_6","_hoisted_7","password","_hoisted_8","data","methods","axios","post","this","then","response","token","Usuario","roles","estado","console","log","localStorage","setItem","JSON","stringify","$router","push","alert","catch","error","__exports__","render"],"sourceRoot":""}